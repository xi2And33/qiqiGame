(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8435:(e,t,l)=>{Promise.resolve().then(l.bind(l,158))},4951:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var s=l(6046),r=l(2115);function n(e){let{onFrogTypeChange:t}=e,l=(0,s.useSearchParams)();return(0,r.useEffect)(()=>{t(l.get("frogType"))},[l,t]),null}},158:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>Frog});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5155),next_image__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5565),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2115),_FrogTypeChecker__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4951);let modalStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center"},modal:{position:"relative",backgroundColor:"#fff",padding:"20px",borderRadius:"8px",textAlign:"center"},close:{position:"absolute",top:"10px",right:"10px",fontSize:"24px",fontWeight:"bold",cursor:"pointer",color:"black"}};function Frog(){let isMounted=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(!1),timer1=null,opts=["+","-","\xd7","\xf7"],optsReals=["+","-","*","/"],[isOpen,setIsOpen]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[frogType,setFrogType]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),handleFrogTypeChange=e=>{setFrogType(e)},openModal=()=>{setIsOpen(!0)},closeModal=()=>setIsOpen(!1),splitNum=25,colorVariants={normal:"border-black",green:"border-green-600 text-green-600  border-4 ",red:"border-red-600 text-red-600 border-4"},[imageSrc,setImageSrc]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),frog=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),inputRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),[perStepMove,setperStepMove]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0),[arr1,setarr1]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),[arr2,setarr2]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),[myCorrectNum,setmyCorrectNum]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0),[currentDate,setcurrentDate]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),[ans1MaxVal,setans1MaxVal]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(50),[ans2MaxVal,setans2MaxVal]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(50),[ans1Step,setans1Step]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(1),[ans2Step,setans2Step]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(1),[opt,setopt]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),[ans1,setans1]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),[ans2,setans2]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),[realRes,setrealRes]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),[isAnswerRight,setisAnswerRight]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[myRes,setmyRes]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),[isDisableAgain,setisDisableAgain]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[correctStatus,setcorrectStatus]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)("normal");function prepareVal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,l=[];if(e<=2)return[2];for(let s=2;s<=e;s+=t)l.push(parseFloat(s.toFixed(2)));return l}function goAgain(a_arr1,a_arr2){let t_arr1=a_arr1||arr1,t_arr2=a_arr2||arr2;if(isDisableAgain)return;inputRef.current.focus(),inputRef.current.setSelectionRange(4,4),setisAnswerRight(!1),setisDisableAgain(!0),setmyRes("");let indexopt=parseInt(Math.random()*opts.length),opt=opts[indexopt],optReal=optsReals[indexopt],index1=parseInt(Math.random()*t_arr1.length);setans1(t_arr1[index1]),setopt(opt),"-"==opt&&setarr2(t_arr2=prepareVal(t_arr1[index1],ans2Step));let index2=parseInt(Math.random()*t_arr2.length);setans2(t_arr2[index2]);let finalRes=eval("".concat(t_arr1[index1]).concat(optReal).concat(t_arr2[index2])).toString();finalRes.includes(".")&&(finalRes=Number(finalRes).toFixed(1)),setrealRes(finalRes),setcorrectStatus("normal"),console.log("".concat(t_arr1[index1]).concat(opt).concat(t_arr2[index2],"="),finalRes)}function check(){!isAnswerRight&&(setcorrectStatus(realRes==myRes?"green":"red"),realRes==myRes)&&(setisAnswerRight(!0),100!=myCorrectNum&&(setisDisableAgain(myCorrectNum+1==100),localStorage.setItem("correntNum",myCorrectNum+1),setmyCorrectNum(myCorrectNum+1),console.log("parseInt(myCorrectNum / splitNum)",parseInt(myCorrectNum/splitNum))))}function getValFromLocalstorage(e,t,l){let s=localStorage.getItem(e)||l;t(parseFloat(s)),localStorage.setItem(e,s)}return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>(isMounted.value||(isMounted.value=!0),getValFromLocalstorage("correntNum",setmyCorrectNum,0),getValFromLocalstorage("ans1MaxVal",setans1MaxVal,100),getValFromLocalstorage("ans2MaxVal",setans2MaxVal,50),getValFromLocalstorage("ans1Step",setans1Step,1),getValFromLocalstorage("ans2Step",setans2Step,1),setperStepMove(3*document.body.clientWidth/400),()=>{}),[]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{if(isMounted.value){let e=new Date,t=e.getDate(),l=e.getMonth(),s=e.getFullYear();setcurrentDate("".concat(s,"-").concat(l+1,"-").concat(t));let r=prepareVal(ans1MaxVal,ans1Step),n=prepareVal(ans2MaxVal,ans2Step);setarr1(r),setarr2(n),goAgain(r,n)}return()=>{}},[ans1Step,ans2Step]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>()=>{},[myCorrectNum]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{if("1"===frogType){let e=parseInt(160*Math.random())%16;setImageSrc("/qiqiGame/images/nftFrog/".concat(e,".gif"))}else setImageSrc("/qiqiGame/images/normalFrog/".concat(parseInt(myCorrectNum/25),".jpg"));frog.current.style.transform="translateX(".concat(perStepMove*myCorrectNum-50,"px)")},[frogType,myCorrectNum]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"w-full h-screen flex flex-col items-center justify-center select-none",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Suspense,{fallback:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:"Loading..."}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_FrogTypeChecker__WEBPACK_IMPORTED_MODULE_3__.A,{onFrogTypeChange:handleFrogTypeChange})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-xl text-teal-200 mb-10",onClick:()=>{confirm("确认重置吗？")&&(localStorage.setItem("correntNum",0),location.reload())},children:currentDate}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"w-3/4 h-[130px] ",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref:frog,className:" absolute  transition-all w-[100px]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__.default,{src:imageSrc,alt:"qiqi logo",width:100,height:100,className:"rounded-full  translate-y-[20%] cursor-pointer",onClick:openModal,priority:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:" absolute left-[40px] top-[-20px] text-xl font-bold text-green-600",children:myCorrectNum})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-full h-[50px] mt-[50px] border rounded-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"ml-[4px] h-[44px] mt-[2px] bg-green-600 rounded-full",style:{width:"".concat(perStepMove*myCorrectNum,"px")}})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"w-3/4 h-4/5  flex flex-col",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex justify-around mt-10 text-4xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-[200px] h-28  flex items-center justify-center",children:ans1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-[100px] h-28  flex items-center justify-center",children:opt}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-[200px] h-28  flex items-center justify-center",children:ans2}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-28 flex items-center text-5xl",children:"="}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"w-[200px] h-28 border border-cyan-200 rounded-lg flex flex-col justify-center items-center ".concat(colorVariants[correctStatus]),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",className:"w-[160px] h-[50px] border-none outline-0 bg-black text-white caret-white",value:myRes,ref:inputRef,onKeyDown:e=>{"Enter"===e.key&&(isAnswerRight?goAgain():check())},onChange:e=>{setmyRes(e.target.value)}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-sm ",children:"\xf7"==opt&&"(结果保留一位小数)"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex text-xl flex-col justify-center items-end mr-[30px]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:" w-[130px] h-[50px] flex justify-center items-center my-5  text-green-50  rounded  ".concat(isAnswerRight?"bg-slate-900 hover:text-xl cursor-not-allowed":"cursor-pointer bg-orange-500"),onClick:check,children:"对答案"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:" w-[130px] h-[50px] flex justify-center items-center   text-green-50 hover:text-2xl rounded  ".concat(isDisableAgain?"bg-slate-900 hover:text-xl cursor-not-allowed":"cursor-pointer bg-orange-500"),onClick:()=>{goAgain()},children:"再来一题"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-6xl w-full text-cyan-600 flex justify-center",children:100==myCorrectNum?"你赢了！！！！！":""})]})]}),isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:modalStyles.overlay,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:modalStyles.modal,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{style:modalStyles.close,onClick:closeModal,children:"\xd7"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__.default,{src:imageSrc,width:400,height:400})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[738,441,517,358],()=>t(8435)),_N_E=e.O()}]);